/*
 * This is sample code generated by rpcgen.
 * These are only templates and you can use them
 * as a guideline for developing your own functions.
 */

#include "jogoDaForca.h"
#include <stdbool.h>

mensagem * menuprincipal_1_svc(mensagem *argp, struct svc_req *rqstp){
	static mensagem  result;

	for(int i=0; i!=1; ){
        printf("\nDigite a palavra para ser adivinhada: ");
        fflush(stdin);
        scanf("%s", result.palavraChave);
        printf("\nTem certeza que a palavra para ser adivinhada eh: %s ?\n1 - sim\n0 - nao\n", result.palavraChave);
		fflush(stdin);
        scanf("%d", &i);
    }
	
	return &result;
}

mensagem * aster_1_svc(mensagem *argp, struct svc_req *rqstp){
	static mensagem result;
	strcpy(result.strAster, "");

    for(int i=0; argp->palavraChave[i]!='\0';i++){
        result.strAster[i] = '*';
    }

	return &result;
}

mensagem * checkletra_1_svc(mensagem *argp, struct svc_req *rqstp){
	static mensagem  result;

    for(int i=0; argp->palavraChave[i]!='\0';i++){
        if(argp->tentativa == argp->palavraChave[i]){
            result.strAster[i] = argp->tentativa;
            result.acertou = true;
        }
    }

	return &result;
}

bool_t * jogo_1_svc(mensagem *argp, struct svc_req *rqstp){
	static bool result;

	if( strcmp(argp->strAster,argp->palavraChave) == 0 )
    	result = true;
	else
    	result = false;

	return &result;
}